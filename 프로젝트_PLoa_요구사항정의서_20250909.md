# 프로젝트_PLoa_요구사항정의서_20250909

## 1. 기능적 요구사항

### [기능1] 캐릭터 통합 검색 및 분석 시스템 ✅ (완성)
- **기본 정보 표시**: 서버, 직업, 길드, 캐릭터이름, 아이템레벨, 전투력, 전투레벨, 영지명, PVP등급, 전투 특성
- **스마트 스탯 표시**: CharacterStats 컴포넌트로 150 이상 스탯만 자동 필터링 표시
- **5개 탭별 상세 정보** (CharacterDetail.jsx):
  - 1탭: 프로필 + 스탯 (전투력, 주요 스탯 필터링)
  - 2탭: 장비 (재련/초월/품질/엘릭서 완전 파싱)
  - 3탭: 스킬 & 각인 & 아크패시브 (트라이포드, 룬, 노드 시각화)
  - 4탭: 보석 (gemParsers.js로 완전 자동화된 효과 분석)
  - 5탭: 수집품 (CollectiblesProgress 시각화) + 원정대 정보
- **18개 전문 파서 모듈**: statsParsers, gemParsers, braceletParsers, equipmentParsers 등 게임 데이터 전문 처리
- **성능 요구사항**: 검색 결과 3초 이내 표시 ✅ 달성
- **오류 처리**: ErrorBoundary, ErrorMessage 컴포넌트로 완전 구현
- **장신구/팔찌 고도화**: accessoryShortener.js로 연마 효과 축약, braceletParsers.js로 이중 옵션 전문 처리

### [기능2] 경제 시스템 ✅ (완성)
- **시세 검색 시스템** (MarketPrice.jsx):
  - 아이템명 직접 입력 및 카테고리별 탐색
  - Recharts 기반 2주일간 가격 추이 차트 시각화
  - 즐겨찾기 기능으로 관심 아이템 대시보드 표시
- **강화 계산기 시스템** (EnhancementCalculator.jsx):
  - 일반 재련 11-25단계 비용 계산 및 확률 예측
  - 상재(상급 재련) 21-40구간 계산 로직 구현
  - enhancementPrecomputedDataWithAdvanced.json 데이터 완비
  - 재료 시세 연동 및 실시간 업데이트 (priceStorage.js)
- **주간 골드 계산기** (WeeklyGoldCalculator.jsx):
  - 원정대 기반 주간 레이드 수익 자동 계산
  - 캐릭터별 참여 가능 레이드 분석 및 골드 예상량 산출

### [기능3] 스케줄러 시스템 ✅ (완성)
- **캐릭터별 일정 관리** (Scheduler.jsx):
  - 캐릭터 추가 및 삭제 기능
  - 드래그앤드롭으로 캐릭터 순서 변경
  - 캐릭터별 일정 체크박스 시스템
- **CharacterCard 컴포넌트**:
  - 캐릭터 정보 카드 형태 표시
  - 드래그앤드롭 애니메이션 지원
- **useScheduler 커스텀 훅**:
  - 스케줄 상태 관리 및 로컬스토리지 연동
  - 일정 초기화 및 업데이트 로직

### [기능4] 유틸리티 도구 모음 ✅ (완성)
- **AuctionCalculator**: 경매 수수료 계산기
- **RandomPicker**: 랜덤 선택 도구 (룰렛)
- **MoreRewardsCalculator**: 추가 보상 계산기
- **다양한 계산 도구들**: TotalSummaryCard, RaidGateCard 등

### [기능5] 혁신 기능 - 레이드 대기실 화면 인식 시스템 🚀 (개발 예정)
- **스크린샷 업로드 및 OCR 처리**:
  - 레이드 대기실 화면 자동 인식 (Tesseract.js 또는 Google Vision API)
  - 다수 닉네임 동시 추출 및 검증
- **병렬 캐릭터 검색**:
  - 인식된 닉네임들 동시 API 호출 (최적화된 배치 처리)
  - 검색 결과 통합 표시 및 로딩 상태 관리
- **파티 구성 분석 및 최적화**:
  - 직업별 밸런스 분석 (탱커/딜러/서포터 비율)
  - 아이템 레벨 분포 시각화 및 평균 계산
  - 시너지 효과 계산 및 최적화 제안
- **성능 요구사항**:
  - OCR 처리: 3초 이내 닉네임 인식
  - 병렬 검색: 8명 캐릭터 동시 검색 5초 이내
  - 파티 분석: 실시간 시너지 계산 및 제안

### [기능6] 캐릭터 소개 시스템 📋 (마지막 1%)
- **로스트아크 공홈 연동**: 캐릭터 소개글 표시
- **공략 및 빌드 정보**: 연계 정보 제공
- **CharacterDetail 새 탭**: 6번째 탭으로 소개 시스템 추가

## 2. 사용자 시나리오

### 시나리오 1: 신규 사용자의 첫 방문
"새로운 사용자가 PLoa에 접속 → Dashboard에서 캐릭터 검색/시세 조회/스케줄러/유틸리티 중 선택 → 5개 탭 구조의 상세한 캐릭터 정보 또는 Recharts 기반 시세 차트를 통해 서비스 경험"

### 시나리오 2: 레이드 준비를 위한 스펙 점검
"기존 사용자가 레이드 준비를 위해 접속 → 본인 캐릭터 검색 → CharacterStats로 150 이상 주요 스탯 확인 → 장비 탭에서 재련/초월/품질 상태 점검 → 강화 계산기로 비용 대비 효과 분석 → 최적 강화 경로 결정"

### 시나리오 3: 아이템 거래 타이밍 판단
"사용자가 생활 재료(예: 아비도스 목재) 획득 → PLoa 시세 검색 → Recharts 차트로 최근 2주 가격 추이 분석 → 즐겨찾기 등록으로 지속 모니터링 → 최적 판매 타이밍 결정"

### 시나리오 4: 레이드 파티 구성 최적화 🚀 (혁신 기능)
"레이드 리더가 대기실 파티원 모집 → PLoa의 레이드 인식 기능 접속 → 대기실 스크린샷 업로드 → OCR로 8명 닉네임 자동 인식 → 병렬 검색으로 전체 파티원 정보 동시 조회 → 직업 밸런스/아이템 레벨/시너지 효과 분석 → 최적 파티 구성 제안 확인 → 파티 모집 완료"

### 시나리오 5: 캐릭터 일정 관리
"원정대 보유 유저가 주간 레이드 계획 → Scheduler 접속 → 캐릭터 추가 및 드래그앤드롭으로 순서 정리 → 각 캐릭터별 일정 체크박스로 진행도 관리 → WeeklyGoldCalculator로 예상 수익 확인"

## 3. 비기능 요구사항

### 성능 요구사항
- **동시 접속자**: 100-1000명 수준 안정적 처리
- **응답 시간**: 모든 주요 기능 3초 이내 로딩 ✅ 달성
- **코드베이스 최적화**: 60개 소스파일, 7.1MB 규모의 대형 시스템 효율적 관리
- **파서 성능**: 18개 전문 파서 모듈로 게임 데이터 실시간 처리
- **API 효율성**: priceStorage.js 캐싱 전략 및 Express 프록시를 통한 API 요청 최적화
- **모바일 성능**: TailwindCSS 반응형 디자인으로 모바일 최적화 완료
- **OCR 성능 목표** (혁신 기능):
  - 스크린샷 OCR 처리: 3초 이내
  - 8명 캐릭터 병렬 검색: 5초 이내
  - 파티 분석 및 시너지 계산: 실시간 처리

### 보안 요구사항
- **접근 제어**: 
  - 기본 기능은 로그인 없이 이용 가능
  - 개인 설정 저장(캐릭터 즐겨찾기, 사용자 바로가기, 관심 아이템) 시에만 로그인 필요
- **인증 방식**: Discord 계정 연동 또는 기타 소셜 로그인
- **데이터 보호**: 사용자 정보 기본적인 암호화 처리
- **API 보안**: 로스트아크 오픈 API 키 서버 사이드 보안 관리

### 가용성/확장성 요구사항
- **플랫폼 지원**: 
  - 웹 기반 반응형 서비스 (PC 70%, 모바일 30%)
  - 브라우저: Chrome, Firefox, Safari, Edge 지원
- **확장성**: 사용자 증가에 따른 서버 확장 가능한 아키텍처
- **데이터 동기화**: 실시간 시세 정보 5분 간격 자동 갱신

## 4. 제약 조건

### 개발 언어/프레임워크
- **Frontend** (완성): React 19.1.0 + Vite 5.4.0, TailwindCSS 3.4.17
- **현재 기술 스택**: React Router DOM 7.6.3, Recharts 3.1.0, Lucide React 0.525.0, axios 1.10.0, html-react-parser 5.2.5
- **Backend** (현재): Express 4.21.2 프록시 서버
- **Backend** (계획): Spring Boot 3.x 전환
- **Database** (계획): PostgreSQL/MySQL + Redis (캐싱)
- **OCR 기술 스택** (계획): 
  - Tesseract.js 5.x (클라이언트 사이드)
  - Google Vision API (고정확도 대안)
  - html2canvas 1.x (스크린샷 처리)
  - react-dropzone 14.x (파일 업로드)

### OS/브라우저 지원
- **웹 브라우저**: Chrome, Firefox, Safari, Edge 최신 버전
- **모바일**: iOS Safari, Android Chrome 지원
- **운영체제**: 브라우저 기반 서비스로 OS 제약 없음

### 예산 제약
- **초기 운영비** (DAU 100명 수준): 월 4-6만원
  - Frontend 호스팅: Vercel 무료 플랜
  - Backend: AWS EC2 t3.micro ($8-12)
  - Database: AWS RDS t3.micro ($15-20)
  - 도메인: .gg 도메인 연 3만원
- **확장 시** (DAU 500명+ 수준): 월 9-13만원
- **절약 방안**: 초기에는 Vercel + PlanetScale 조합으로 월 1-2만원 가능

### 시간 제약
- **서비스 런칭**: 1개월 내 프로토타입 서비스 런칭 가능 상태
- **지속 개발**: 런칭 후 혁신 기능(레이드 인식) 개발 예정
- **현재 완성도**: 99% (남은 1%는 캐릭터 소개 시스템)
- **기술적 성과**: 60개 소스파일, 7.1MB 코드베이스, 18개 파서 모듈 완성

### 법적/정책 제약
- **게임 데이터 사용**: 로스트아크 오픈 API 이용약관 준수
- **개인정보 보호**: 개인정보보호법 및 관련 규정 준수
- **저작권**: 게임 관련 이미지/데이터 공정 사용 원칙 적용
- **서비스 약관**: 일반적인 웹서비스 운영 정책 준수

### 기타 환경 제약
- **1인 개발의 성과와 한계**:
  - **기술적 성과**: Claude Code 활용으로 60개 컴포넌트, 18개 파서 모듈 구축 성공
  - **시스템 규모**: 7.1MB 대형 코드베이스를 체계적으로 관리
  - **남은 한계**: OCR 기술 구현, 24/7 모니터링, 마케팅 등 전문 영역
- **대응 방안**: 
  - 기술적: Claude Code 지속 활용, 오픈소스 OCR 라이브러리 활용
  - 운영적: 단계적 기능 출시, 사용자 피드백 중심 개발
  - 비즈니스: 핵심 기능 완성도로 자연스러운 사용자 유입 기대
- **API 제약**: 개인 API 키 기준 100 req/min 제한 (Express 프록시 및 캐싱으로 해결)

## 5. 현재 개발 현황 요약 (2025-09-09)

### ✅ 완성된 시스템 (99%)
- **캐릭터 분석**: CharacterDetail 5개 탭, CharacterStats 필터링, 18개 파서
- **경제 시스템**: 시세 검색, 강화 계산기, 주간 골드 계산기
- **스케줄러**: 드래그앤드롭 캐릭터 관리, 일정 체크박스
- **유틸리티**: 다양한 계산 도구 모음
- **UI/UX**: 완전한 테마 시스템, 반응형 디자인

### 🚀 다음 단계
- **마지막 1%**: 캐릭터 소개 시스템 (로스트아크 공홈 연동)
- **혁신 기능**: 레이드 대기실 화면 인식 시스템 (OCR + 병렬 검색 + 파티 분석)

PLoa는 현재 **99% 완성된 대규모 로스트아크 분석 플랫폼**으로, 1개월 내 서비스 런칭이 가능하며 업계 최초의 레이드 대기실 인식 기능으로 차별화를 추진할 준비가 완료되었습니다.